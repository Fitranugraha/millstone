
<!-- ModalFromFile -->
<div id="modalFromFile" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog"><div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal">×</button>
      <h1 id="modalFromFile">Load File from Server Location</h1>
    </div>
    <form id="formFromFile" method="POST">
      <div class="modal-body">
        {% csrf_token %}
        <div class="form-group">
          <input type="text" name="refGenomeLabel" class="form-control" placeholder="Reference Genome Name">
        </div>
        <div class="form-group">
          <input type="text" name="refGenomeFileLocation" class="form-control" placeholder="File Location on Server">
        </div>
        <div class="form-group">
          <label class="radio">
            <input type="radio" name="importFileFormat" id="optionsRadios1" value="genbank" checked>
            Genbank File
          </label>
          <label class="radio">
            <input type="radio" name="importFileFormat" id="optionsRadios2" value="fasta">
            FASTA File <i>(No Gene/Effect Annotations)</i>
          </label>
        </div>
        <input type="hidden" name="postType" value="modalFromFile">
      </div>
      <div class="modal-footer">
        <button class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button class="btn btn-primary" id="formFromFile">Submit</button>
      </div>
    </form>
  </div></div>
</div>

<!-- ModalFromNCBI -->
<div id="modalFromNCBI" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog"><div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal">×</button>
      <h1 id="modalFromNCBI">Load File from NCBI</h3>
    </div>
    <form id="formFromFile" method="POST">
      <div class="modal-body">
        {% csrf_token %}
        <div class="form-group">
          <input type="text" name="refGenomeLabel" class="form-control" placeholder="Reference Genome Name">
        </div>
        <div class="form-group">
          <input type="text" name="refGenomeAccession" class="form-control"  placeholder="NCBI Nucleotide Accession">
        </div>
        <div class="form-group">
          <label class="radio">
            <input type="radio" name="importFileFormat" id="optionsRadios3" value="genbank" checked>
            Genbank File
          </label>
          <label class="radio">
            <input type="radio" name="importFileFormat" id="optionsRadios4" value="fasta">
            FASTA File <i>(No Gene/Effect Annotations)</i>
          </label>
        </div>
        <input type="hidden" name="postType" value="modalFromNCBI">
      </div>
      <div class="modal-footer">
        <button class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button class="btn btn-primary" id="formFromFile">Submit</button>
      </div>
    </form>
  </div></div>
</div>

<script type="text/javascript">
  VIEW_TAG = 'REF_GENOME_LIST';
  {% with is_s3_backend=project.is_s3_backend %}
  IS_S3_BACKEND = '{{is_s3_backend}}';
  {% endwith %}

  {% autoescape off %}
  REF_GENOME_LIST_DATA = {{ref_genome_list_json}};
    
  {% endautoescape %}

</script>

<!-- ModalFromS3 -->
{% if project.is_s3_backed %}
<div id="modalUpload" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog"><div class="modal-content">

    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal">×</button>
      <h3>Upload</h3>
    </div>
    <div class="modal-body" id="uploadDiv" data-signature="{% url 's3_signature' %}" data-success="{% url 's3_success' %}" data-delete="{% url 's3_delete' %}" data-import="{% url 'import_reference_genome_s3' project.uid %}" data-endpoint="{{ S3_BUCKET }}.s3.amazonaws.com" data-accesskey="{{ AWS_SERVER_PUBLIC_KEY }}">
    </div>
  </div></div>
</div>

<script type="text/template" id="qq-template">
<div class="qq-uploader-selector qq-uploader">
  <div>
    <input type="text" name="refGenomeLabel" id="refGenomeLabel" placeholder="Reference Genome Name">
    <label class="radio">
      <input type="radio" name="importFileFormat" id="optionsRadios1" value="genbank" checked>
      Genbank File
    </label>
    <label class="radio">
      <input type="radio" name="importFileFormat" id="optionsRadios2" value="fasta">
      FASTA File <i>(No Gene/Effect Annotations)</i>
    </label>
  </div>
  <div class="qq-upload-drop-area-selector qq-upload-drop-area" qq-hide-dropzone>
    <span>Drop files here to upload</span>
  </div>
  <div class="qq-upload-button-selector qq-upload-button btn btn-success" style="width: auto;">
    <div><i class="icon-upload icon-white"></i> Choose files...</div>
  </div>
  <span class="qq-drop-processing-selector qq-drop-processing">
    <span>Processing dropped files...</span>
    <span class="qq-drop-processing-spinner-selector qq-drop-processing-spinner"></span>
  </span>
  <ul class="qq-upload-list-selector qq-upload-list" style="margin-top: 10px; text-align: center;">
    <li>
      <div class="qq-progress-bar-container-selector progress-striped">
          <div class="qq-progress-bar-selector qq-progress-bar bar"></div>
      </div>
      <span class="qq-upload-spinner-selector qq-upload-spinner"></span>
      <span class="qq-upload-file-selector qq-upload-file"></span>
      <span class="qq-upload-size-selector qq-upload-size"></span>
      <a class="qq-upload-cancel-selector qq-upload-cancel" href="#">Cancel</a>
      <span class="qq-upload-status-text-selector qq-upload-status-text"></span>
    </li>
  </ul>
</div>
</script>
{% endif %}