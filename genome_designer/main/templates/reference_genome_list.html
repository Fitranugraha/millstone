{% extends "base.html" %}

{% block content%}
<div class="page-header">
  <h1>Reference Genomes</h1>
</div>
<div class="btn-group">
  <a class="btn dropdown-toggle btn-primary" data-toggle="dropdown" href="#">
    Create New
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu">
    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">From Variant Set...</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="#modalFromFile" data-toggle="modal">From Server Location...</a></li>
  </ul>
</div>
<span class="gd-error-text">
  {% if error_string %}
    {{ error_string }}
  {% endif %}
</span>
<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th># Chromosomes</th>
      <th>Total Size</th>
      <th>Annotated?</th>
      <th>Parents</th>
      <th>Children</th>
      <th> <th>
    </tr>
  </thead>
  <tbody>
    {% for obj in ref_genome_list %}
      <tr>
        <td><a href="#">{{obj.label}}</a></td>
        <td>{{obj.num_chromosomes}}</td>
        <td>{{obj.total_size}}</td>
        <td>
          {% if obj.annotated %}
            <i class="icon-ok"></i>
          {% endif %}
        </td>
        <td>
          {% for parent in obj.parents %}
            <a href="#">{{parent}}</a>,
          {% endfor %}
        </td>
        <td>
          {% for child in obj.children %}
            <a href="#">{{child}}</a>,
          {% endfor %}
        </td>
        <td>
          <div class="btn-group">
            <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
              Actions
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <!-- dropdown menu links -->
            </ul>
          </div>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<!-- Modal -->
<div id="modalFromFile" class="modal hide fade" tabindex="-1" role="dialog">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">Ã—</button>
    <h3 id="modalFromFile">Load File from Server Location</h3>
  </div>
  <div class="modal-body">
    <form id="formFromFile" method="POST">
      {% csrf_token %}
      <input type="text" name="refGenomeLabel" placeholder="Reference Genome Name">
      <input type="text" name="refGenomeFileLocation" placeholder="File Location on Server">
      <label class="radio">
        <input type="radio" name="importFileFormat" id="optionsRadios1" value="genbank" checked>
        Genbank File
      </label>
      <label class="radio">
        <input type="radio" name="importFileFormat" id="optionsRadios2" value="fasta">
        FASTA File <i>(No Gene/Effect Annotations)</i>
      </label>
    </div>
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal">Cancel</button>
      <button class="btn btn-primary" id="formFromFile">Submit</button>
    </form>
  </div>
</div>

<script type="text/javascript">
  VIEW_TAG = 'REF_GENOME';
</script>
{% endblock %}
